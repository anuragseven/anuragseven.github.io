---
interface Props {
  title: string;
  date: Date;
  category: string;
  excerpt: string;
  slug: string;
}

const { title, date, category, excerpt, slug } = Astro.props;

const formatDate = (date: Date) => {
  return new Intl.DateTimeFormat('en-US', {
    month: 'long',
    day: 'numeric',
    year: 'numeric'
  }).format(date);
};

// Estimate reading time (rough: 200 words per minute)
const readingTime = "5 min read";
---

<article class="group p-6 rounded-lg border border-[var(--border)] bg-[var(--bg-surface)] hover:border-[var(--accent)] transition-colors">
  <div class="flex items-center gap-3 mb-3 text-sm text-[var(--text-muted)]">
    <span class="px-2 py-1 rounded bg-[var(--bg-primary)] border border-[var(--border)]">
      {category}
    </span>
    <span>{formatDate(date)}</span>
    <span>&middot;</span>
    <span>{readingTime}</span>
  </div>

  <h3 class="text-lg font-semibold mb-2 group-hover:text-[var(--accent)] transition-colors">
    <a href={`/blog/${slug}`} class="hover:underline">
      {title}
    </a>
  </h3>

  <p class="text-[var(--text-muted)] text-sm">
    {excerpt}
  </p>

  <a
    href={`/blog/${slug}`}
    class="inline-flex items-center gap-1 mt-4 text-sm text-[var(--accent)] hover:underline"
  >
    Read more
    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
    </svg>
  </a>
</article>
